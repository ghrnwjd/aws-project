<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>뭉게구름</title>
    <script type="text/javascript" src="/lib/jquery-3.7.1.min.js"></script>
</head>
<body>
    <div align="center">

        <h2>뭉게구름 서비스</h2>
        <p>금액을 보고 적절 서비스를 예측한다.</p>
        <label for="senderId">전송자 아이디: </label>
        <input type="text" id="senderId">
        <label for="receiverId">수신자 아이디: </label>
        <input type="text" id="receiverId">
        <label for="amount">금액: </label>
        <input type="text" id="amount">
        <br/><br/>
        <button type="button" onclick="onClick()">테스트</button>
        <h4 id="resp"></h4>
    </div>
    <script>
        function onClick() {
            var senderId = document.getElementById('senderId').value;
            var receiverId = document.getElementById('receiverId').value;
            var amount = document.getElementById('amount').value;

            let data = [senderId, receiverId, amount, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28];

            let converted = {
                "data": data.join()
            }
             $.ajax({
                //요청 서비스 url 지정
                url: "https://izhpvt7n06.execute-api.us-east-1.amazonaws.com/sagemaker",
                //메소드 타입 지정
                type: "POST",
                //요청 시 서버로 전달할 데이터 지정
                data: JSON.stringify(converted),
                contentType: "application/json; charset=utf-8",
                //요청 성공 시 동작할 콜백 함수 지정
                success: function(data){
                    console.log(data);
                    //p요소에 서버로부터 응답받은 데이터 표출
                    $("#resp").html("Food and Dining을 위해 송금한 것이 맞나요?");
                }
             });
        }
    </script>
</body>
</html>
